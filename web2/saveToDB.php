<?php  

$servername = "localhost";
$username = "root";
$password = "";

// Create connection
$conn = new mysqli($servername, $username, $password, "prada");

// Check connection
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
} 
echo "Connected successfully <br>";

$sanpham = '[{"id":"AT-001","price":"300000","name":"Áo dài tay thể thao","brand":"Adidas","color":"Xanh","image":"images/AT/AT-001.jpg","sale":"350000"},{"id":"QJ-001","price":"250000","name":"Quần jean rách","brand":"Châu Âu","color":"Đen","image":"images/QJ/QJ-001.jpg","sale":0},{"id":"AT-002","price":"315000","name":"Áo thể thao tay ngắn","brand":"Under Armour","color":"Xanh tím","image":"images/AT/AT-002.jpg","sale":0},{"id":"AT-003","price":"70000","name":"Áo thun trơn","brand":"Kirkland","color":"Trắng","image":"images/AT/AT-003.jpg","sale":0},{"id":"AT-004","price":"260000","name":"Áo bóng rổ đội OKC","brand":"Nike","color":"Xanh","image":"images/AT/AT-004.jpg","sale":0},{"id":"AT-005","price":"80000","name":"Áo thun mùa hè","brand":"Adidas","color":"Trắng / Đen","image":"images/AT/AT-005.jpg","sale":0},{"id":"AS-001","price":"150000","name":"Áo sơ mi trơn","brand":"Pull & Bear","color":"Đen xám","image":"images/AS/AS-001.jpg","sale":0},{"id":"AS-002","price":"150000","name":"Áo sơ mi caro","brand":"Pull & Bear","color":"Cam","image":"images/AS/AS-002.jpg","sale":0},{"id":"AS-003","price":"200000","name":"Áo sơ mi công sở","brand":"VIETTIEN","color":"Trắng","image":"images/AS/AS-003.jpg","sale":0},{"id":"AS-004","price":"400000","name":"Áo sơ mi sọc","brand":"Burberry","color":"Xanh","image":"images/AS/AS-004.jpg","sale":0},{"id":"QT-001","price":"220000","name":"Quần jogger","brand":"Adidas","color":"Đen","image":"images/QT/QT-001.jpg","sale":0},{"id":"QT-002","price":"200000","name":"Quần thun dài","brand":"Aristino","color":"Xám","image":"images/QT/QT-002.jpg","sale":0},{"id":"QT-003","price":"390000","name":"Quần bóng rổ","brand":"Air Jordan","color":"Đỏ","image":"images/QT/QT-003.jpg","sale":0},{"id":"QT-004","price":"280000","name":"Quần đùi thể thao","brand":"Adidas","color":"Xám","image":"images/QT/QT-004.jpg","sale":0},{"id":"QT-005","price":"165000","name":"Quần thun sooc","brand":"BST","color":"Xanh","image":"images/QT/QT-005.jpg","sale":0},{"id":"GI-001","price":"265000","name":"Giày Converse Classic","brand":"Converse","color":"Trắng","image":"images/GI/GI-001.jpg","sale":"288000"},{"id":"GI-002","price":"463000","name":"Giày Vans Old Skool","brand":"Vans","color":"Đen","image":"images/GI/GI-002.jpg","sale":"488000"},{"id":"GICS-001","price":"663000","name":"Giày Tây BQ636","brand":"Châu Âu","color":"Đen","image":"images/GICS/GICS-001.jpg","sale":"788000"},{"id":"GICS-002","price":"1663000","name":"Giày Tăng chiều cao G123","brand":"MEN HQ","color":"Đen","image":"images/GICS/GICS-002.jpg","sale":0},{"id":"GI-005","price":"331000","name":"Giày Golf Roshe","brand":"Nike","color":"Đen","image":"images/GI/GI-005.jpg","sale":0},{"id":"GI-006","price":"263000","name":"Giày Thể thao Thượng Đình","brand":"Thượng Đình","color":"Trắng","image":"images/GI/GI-006.jpg","sale":0},{"id":"GI-007","price":"464000","name":"Giày Converse All Star","brand":"Converse ","color":"Trắng","image":"images/GI/GI-007.jpg","sale":0},{"id":"GI-008","price":"264000","name":"Giày Smash V16","brand":"Puma","color":" Đen","image":"images/GI/GI-008.jpg","sale":0},{"id":"NK-001","price":"64000","name":"Nón golf N240","brand":"Adidas","color":"Đen","image":"images/NK/NK-001.jpg","sale":0},{"id":"NK-002","price":"53000","name":"Nón Taylormade","brand":"New Era","color":" Xám","image":"images/NK/NK-002.jpg","sale":0},{"id":"NK-003","price":"33000","name":"Nón Nike Aerobill Golf L91","brand":"Nike","color":"Xám","image":"images/NK/NK-003.jpg","sale":0},{"id":"NK-004","price":"63000","name":"Nón Nike Feather Light Adjustable","brand":"Nike","color":"Trắng","image":"images/NK/NK-004.jpg","sale":"69000"},{"id":"NK-005","price":"53000","name":"Nón Thể thao Climacool","brand":"Adidas","color":"Đen xám","image":"images/NK/NK-005.jpg","sale":0},{"id":"NK-006","price":"53000","name":"Nón NY Yankees 39FORTY","brand":"New Era","color":"Đen","image":"images/NK/NK-006.jpg","sale":"59000"},{"id":"NK-007","price":"183000","name":"Nón NY Yankees 9FORTY Logo bạc","brand":"New Era","color":"Xanh dương","image":"images/NK/NK-007.jpg","sale":0},{"id":"NS-001","price":"153000","name":"Nón Chigago Bulls WINDY CITY","brand":"New Era","color":"Trắng Đỏ","image":"images/NS/NS-001.jpg","sale":0},{"id":"NS-002","price":"221000","name":"Nón snapback Vân sóng xanh","brand":"Serpent Urban","color":"Xanh","image":"images/NS/NS-002.jpg","sale":0},{"id":"NS-003","price":"128000","name":"Nón hiphop Chicago","brand":"Skyline","color":"Đen","image":"images/NS/NS-003.jpg","sale":"150000"},{"id":"NS-004","price":"139000","name":"Nón rapper Likanen Etelä","brand":"ATLANTIS","color":"Đen","image":"images/NS/NS-004.jpg","sale":0},{"id":"NS-005","price":"166000","name":"Nón snapback NEWYORK","brand":"Mỹ","color":"Đen Trắng","image":"images/NS/NS-005.jpg","sale":0},{"id":"NS-006","price":"46000","name":"Nón snapback Power","brand":"Julie Caps","color":"Xanh Camo","image":"images/NS/NS-006.jpg","sale":0},{"id":"NS-007","price":"73000","name":"Nón snapback Eagle","brand":"Julie Caps","color":"Xám Đỏ","image":"images/NS/NS-007.jpg","sale":0},{"id":"NS-008","price":"23000","name":"Nón snapback Power","brand":"Julie Caps","color":"Đen Nâu Camo","image":"images/NS/NS-008.jpg","sale":0},{"id":"BL-001","price":"328000","name":"Balo ONCADA","brand":"Adidas Originals","color":"Đen Cam","image":"images/BL/BL-001.jpg","sale":0},{"id":"BL-002","price":"255000","name":"Balo Supreme BLS201","brand":"Supreme","color":"Đen","image":"images/BL/BL-002.jpg","sale":0},{"id":"BL-003","price":"159000","name":"Balo Puma Mens Pro","brand":"Puma","color":"Đỏ Đen","image":"images/BL/BL-003.jpg","sale":"210000"},{"id":"BL-004","price":"421000","name":"Balo Vans Galaxy print","brand":"Vans","color":"Xanh trắng","image":"images/BL/BL-004.jpg","sale":"488000"},{"id":"TDC-002","price":"128000","name":"Túi đeo chéo Nike logo xéo","brand":"Nike","color":"Đen","image":"images/TDC/TDC-002.jpg","sale":0},{"id":"TDC-001","price":"224000","name":"Túi đeo chéo Nike logo to","brand":"Nike","color":"Đen","image":"images/TDC/TDC-001.jpg","sale":0},{"id":"TDC-003","price":"127000","name":"Túi đeo chéo Puma SC102","brand":"Puma","color":"Xám ","image":"images/TDC/TDC-003.jpg","sale":0},{"id":"TDC-004","price":"225000","name":"Túi đeo chéo Supreme họa tiết","brand":"Supreme","color":"Tím","image":"images/TDC/TDC-004.jpg","sale":0},{"id":"TDC-005","price":"321000","name":"Tui đeo chéo Nike","brand":"Nike","color":"Trắng Xanh Đen","image":"images/TDC/TDC-005.jpg","sale":0},{"id":"BL-006","price":"428000","name":"Balo Vans Old Skool","brand":"Vans","color":"Xanh dương","image":"images/BL/BL-005.jpg","sale":0},{"id":"BL-007","price":"322000","name":"Balo  Đen Adidas Training CF9008","brand":"Adidas","color":"Đen","image":"images/BL/BL-006.jpg","sale":0},{"id":"BL-008","price":"124000","name":"Balo Adidas S02126","brand":"Adidas","color":"Đen","image":"images/BL/BL-007.jpg","sale":"150000"},{"id":"ATN-001","price":"220000","name":"Áo thun nữ trắng Eiffel","brand":"Korean","color":"Trắng","image":"images/ATN/ATN-001.jpg","sale":0},{"id":"ATN-002","price":"225000","name":"Áo thun nữ trắng hình cá ","brand":"Korean","color":"Trắng","image":"images/ATN/ATN-002.jpg","sale":0},{"id":"ATN-003","price":"231000","name":"Áo thun nữ trắng hình nhân","brand":"Korean","color":"Trắng","image":"images/ATN/ATN-003.jpg","sale":0},{"id":"ATN-004","price":"299000","name":"Áo thun nữ sọc kẻ","brand":"Korean","color":"Trắng đen","image":"images/ATN/ATN-004.jpg","sale":0},{"id":"ATN-005","price":"399000","name":"Áo thun nữ dạ ren","brand":"Korean","color":"Hồng","image":"images/ATN/ATN-005.jpg","sale":0},{"id":"ATN-006","price":"259000","name":"Áo thun nữ bó hở vai","brand":"Korean","color":"Xám","image":"images/ATN/ATN-006.jpg","sale":0},{"id":"ATN-007","price":"322000","name":"Áo thun nữ nâu kẻ đen","brand":"China","color":"Đen Nâu","image":"images/ATN/ATN-007.jpg","sale":0},{"id":"ATN-008","price":"122000","name":"Áo thun nữ có phun chữ","brand":"Korean","color":"Trắng","image":"images/ATN/ATN-008.jpg","sale":0},{"id":"AL-001","price":"135000","name":"Áo len Hoddie nữ","brand":"Korean","color":"Đen xám","image":"images/AL/AL-001.jpg","sale":0},{"id":"AL-002","price":"138000","name":"Áo len Hoddie nữ Hàn Quốc","brand":"Skyline","color":"Hồng","image":"images/AL/AL-002.jpg","sale":0},{"id":"AL-003","price":"134000","name":"Áo len hoddie nữ SVCG-3153","brand":"Korean","color":"Đỏ nâu","image":"images/AL/AL-003.jpg","sale":0},{"id":"AL-004","price":"210000","name":"Áo len dạ nữ","brand":"Korean","color":"Nâu Xanh lá","image":"images/AL/AL-004.jpg","sale":0},{"id":"AL-005","price":"120000","name":"Áo len dạ nữ cổ trơn","brand":"Chinasun","color":"Nâu","image":"images/AL/AL-005.jpg","sale":0},{"id":"AL-006","price":"130000","name":"Áo len xám hình mèo ","brand":"Chinasun","color":"Xám","image":"images/AL/AL-006.jpg","sale":0},{"id":"AL-007","price":"110000","name":"Áo len nữ AL50 tay dài","brand":"Narsis","color":"Xanh lá","image":"images/AL/AL-007.jpg","sale":"134000"},{"id":"AL-008","price":"180000","name":"Áo Len nữ L7077","brand":"Narsis","color":"Xám","image":"images/AL/AL-008.jpg","sale":0},{"id":"QJ-002","price":"350000","name":"Quần jean nam SID6110","brand":"China","color":"Xanh nhạt","image":"images/QJ/QJ-002.jpg","sale":0},{"id":"QJ-003","price":"253000","name":"Quần jean nam basic xước nhẹ","brand":"Mỹ","color":"Xanh nhạt","image":"images/QJ/QJ-003.jpg","sale":"300000"},{"id":"QJ-004","price":"553000","name":"Quần Jean Nam Ma Bư Dài I01","brand":"Châu âu","color":"Đen","image":"images/QJ/QJ-004.jpg","sale":0},{"id":"QJ-005","price":"211000","name":"Quần jean nam wash IT3KX","brand":"Thái lan","color":"Xanh nhạt","image":"images/QJ/QJ-005.jpg","sale":0},{"id":"QJ-006","price":"225000","name":"Quần jean nam rách nhã nhặn","brand":"Thái lan","color":"Xanh nhạt","image":"images/QJ/QJ-006.jpg","sale":0},{"id":"QJ-007","price":"153000","name":"Quần Jean Nam sóoc SCVG-5303","brand":"Châu Âu","color":"Xanh đậm","image":"images/QJ/QJ-007.jpg","sale":0},{"id":"QJ-008","price":"257000","name":"Quần Jean Rách Chuột Đậm","brand":"Việt Nam","color":"Xám","image":"images/QJ/QJ-008.jpg","sale":0},{"id":"QT-006","price":"169000","name":"Quần Short Thun Nam Thể Thao","brand":"China","color":"Đen","image":"images/QT/QT-006.jpg","sale":"180000"},{"id":"QT-007","price":"113000","name":"Quần Short Thun Nam Đứng tuổi","brand":"Việt Nam","color":"Đen","image":"images/QT/QT-007.jpg","sale":"150000"},{"id":"QT-008","price":"275000","name":"Quần short thun nam HCO-3103","brand":"Hollister","color":"Xám","image":"images/QT/QT-008.jpg","sale":"280000"},{"id":"TX-003","price":"121000","name":"Túi xách tập gym","brand":"Puma","color":"Đen Trắng","image":"images/TX/TX-003.jpg","sale":0},{"id":"TX-004","price":"461000","name":"Túi xách da cao cấp","brand":"Puma","color":"Đen","image":"images/TX/TX-004.jpg","sale":0},{"id":"TX-005","price":"388000","name":" Túi xách vải du lịch","brand":"Puma","color":"Đen","image":"images/TX/TX-005.jpg","sale":0},{"id":"TX-006","price":"235000","name":" Túi Xách thể thao Foundation S","brand":"Puma ","color":"Hồng Xanh","image":"images/TX/TX-006.jpg","sale":"315000"},{"id":"TDC-006","price":"161000","name":" Túi đeo chéo lưng","brand":"Puma","color":"Đỏ","image":"images/TDC/TDC-006.jpg","sale":0},{"id":"TDC-007","price":"222000","name":" Túi đeo chéo lưng thể thao","brand":"Adidas","color":"Đen","image":"images/TDC/TDC-007.jpg","sale":0},{"id":"GICS-003","price":"1222000","name":"Giày công sở lịch lãm bóng","brand":"Châu Âu","color":"Đen Vàng","image":"images/GICS/GICS-003.jpg","sale":"1350000"},{"id":"GICS-004","price":"2044000","name":"Giày da công sở quý ông","brand":"Châu Âu","color":"Nâu","image":"images/GICS/GICS-004.jpg","sale":"2220000"},{"id":"GICS-005","price":"1013000","name":"Giày công sở nam da bò","brand":"Châu Âu","color":"Den","image":"images/GICS/GICS-005.jpg","sale":0},{"id":"GICS-006","price":"893000","name":"Giày công sở nam da sần X031","brand":"Thái lan","color":"Nâu","image":"images/GICS/GICS-006.jpg","sale":"1000000"},{"id":"GICS-007","price":"593000","name":"Giày Công Sở Patina G068","brand":"Hungary","color":"Nâu","image":"images/GICS/GICS-007.jpg","sale":"700000"},{"id":"GICS-008","price":"451000","name":"Giày công sở da trơn NO-107–8805","brand":"Hungary","color":"Nâu","image":"images/GICS/GICS-008.jpg","sale":0},{"id":"AS-005","price":"100000","name":"Áo sơ mi kiểu già dặn","brand":"Korean","color":"Hồng nhạt","image":"images/AS/AS-005.jpg","sale":"150000"},{"id":"AS-006","price":"60000","name":"Áo sơ mi kiểu sọc kẻ","brand":"Korean","color":"Xanh","image":"images/AS/AS-006.jpg","sale":"90000"},{"id":"AS-007","price":"70000","name":"Áo sơ mi kiểu công sở trẻ","brand":"Korean","color":"Đỏ nâu","image":"images/AS/AS-007.jpg","sale":"98000"},{"id":"AS-008","price":"85000","name":"Áo sơ mi kiểu châu âu","brand":"Châu âu","color":"Xanh","image":"images/AS/AS-008.jpg","sale":"118000"},{"id":"AS-009","price":"185000","name":"Áo sơ mi lịch lãm","brand":"Châu Âu","color":"Trắng","image":"images/AS/AS-009.jpg","sale":0},{"id":"AS-010","price":"81000","name":"Áo sơ mi công sở tay ôm","brand":"Việt Nam","color":"Trắng","image":"images/AS/AS-010.jpg","sale":0},{"id":"AS-011","price":"141000","name":"Áo sơ mi công sở bóng","brand":"Korean","color":"Xanh Tím nhạt","image":"images/AS/AS-011.jpg","sale":0},{"id":"AT-006","price":"110000","name":"Áo thun nam bóng trơn","brand":"Puma","color":"Trắng","image":"images/AT/AT-006.jpg","sale":"155000"},{"id":"AT-007","price":"100000","name":"Áo thun nam cổ tròn","brand":"Châu âu","color":"Hồng","image":"images/AT/AT-007.jpg","sale":"150000"},{"id":"AT-008","price":"50000","name":"Áo thun nam bó Thể thao","brand":"Châu Âu","color":"Xám","image":"images/AT/AT-008.jpg","sale":"90000"},{"id":"AT-009","price":"40000","name":"Áo thun nam sọc có cổ","brand":"Việt Nam","color":"Trắng Đen","image":"images/AT/AT-009.jpg","sale":"50000"},{"id":"AT-010","price":"70000","name":"Áo thun nam hàn quốc","brand":"Metange","color":"Xanh","image":"images/AT/AT-010.jpg","sale":"88000"},{"id":"DL-001","price":"50000","name":"Dép lê xốp thoáng mát ","brand":"Nike","color":"Trắng đen","image":"images/DL/DL-001.jpg","sale":0},{"id":"DL-002","price":"40000","name":"Dép lê xốp thoáng mát nhẹ","brand":"Nike","color":"Đen xám","image":"images/DL/DL-002.jpg","sale":0},{"id":"DL-003","price":"140000","name":"Dép lê cao cấp","brand":"Nike","color":"Xanh","image":"images/DL/DL-003.jpg","sale":0},{"id":"DL-004","price":"131000","name":"Dép lê cao cấp loại siêu bền","brand":"Nike","color":"Xanh đen","image":"images/DL/DL-004.jpg","sale":0},{"id":"DL-005","price":"134000","name":"Dép lê xốp nhẹ","brand":"China","color":"Đen Đỏ","image":"images/DL/DL-005.jpg","sale":0},{"id":"DS-001","price":"123000","name":"Sandal nhẹ thoáng mát ","brand":"Maxbun","color":"Đen Trắng","image":"images/DS/DS-001.jpg","sale":0},{"id":"DS-002","price":"223000","name":"Sandal đế dày","brand":"Nunce","color":"Nâu Đen","image":"images/DS/DS-002.jpg","sale":0},{"id":"DS-003","price":"523000","name":"Sandal kiểu gỗ cao cấp ","brand":"Statajor","color":"Nâu","image":"images/DS/DS-003.jpg","sale":"599000"},{"id":"DS-004","price":"323000","name":"Sandal katafashion","brand":"Katafashion","color":"Đen","image":"images/DS/DS-004.jpg","sale":0},{"id":"DS-005","price":"221000","name":"Sandal phong cách hàn quốc","brand":"Zannado","color":"Đen đỏ trắng","image":"images/DS/DS-005.jpg","sale":"300000"}]';

// Convert JSON string to Array
$sanphamArray = json_decode($sanpham, true);
print_r($sanphamArray);        // Dump all data of the Array
for ($x = 0; $x < sizeof($sanphamArray); $x++) {
	echo "<br>Name: " . $sanphamArray[$x]["name"]; // Access Array data
}

// Add new SanPham
$sql = "use prada";
$SPid = "";
$SPprice = 0;
$SPname = "";
$SPbrand = "";
$SPcolor = "";
$SPimage = "";
$SPsale = 0;

if ($conn->query($sql) === TRUE) {
    echo "<br>Switched database successfully";
} 
else {
    echo "Error: " . $sql . "<br>" . $conn->error;
}

for ($x = 0; $x < sizeof($sanphamArray); $x++) {
	$SPid = $sanphamArray[$x]["id"];
	$SPprice = (int)$sanphamArray[$x]["price"];
	$SPname = $sanphamArray[$x]["name"];
	$SPbrand = $sanphamArray[$x]["brand"];
	$SPcolor = $sanphamArray[$x]["color"];
	$SPimage = $sanphamArray[$x]["image"];
	$SPsale = (int)$sanphamArray[$x]["sale"];
	$sql = "INSERT INTO SanPham (id, price, name, brand, color, image, sale) VALUES ('$SPid', $SPprice, '$SPname', '$SPbrand', '$SPcolor', '$SPimage', $SPsale)";
	echo "<br><br>SQL: <br>" . $sql;

	if ($conn->query($sql) === TRUE) {
	    echo "<br>New record created successfully! " . "id: " . $SPid;
	} 
	else {
	    echo "Error: " . $sql . "<br>" . $conn->error;
	}
}

?>